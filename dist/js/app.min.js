"use strict";!function(){var s=function(){var e='\n            <ul class="messages-list">\n                '+[chat.getMessagesLog(getHash())][0].map(function(e){return'\n                    <li class="'+(e.from_user==myProfileId?"messages-list__is-sender":"")+'">\n                        <div>\n                            <img src="'+e.avatar+'"/>\n                        </div>\n                        <div class="message">\n                            '+e.message+'\n                        </div>\n                        <div>\n                            <a href="#profile">\n                                <img src="'+e.avatar+'"/>\n                            </a>\n                        </div>\n                    </li>\n                '}).join("")+"\n            </ul>\n        ";document.getElementById("messagesContainer").innerHTML=e},e=function(){var e;1==location.hash.indexOf("chat")?function(){chat=new Chat,chat.createNewChatRoom(userProfileId,getHash(),userProfileAvatar);var e='\n            <div class="container">\n                <header class="header">\n                    <a href="#profile" class="header__back-button">\n                        <i class="icon-chevron-left"></i>\n                    </a>\n\n                    <h1>'+userProfileData.name+'</h1>\n                </header>\n                <div class="profile">\n                    <div id = "messagesContainer"></div>\n                    \n                    <div class="input-group">\n                        <input type="text" id="messageText" class="form-control" placeholder="Write a message..."/>\n                    </div>\n                </div>\n            </div>\n        ';document.getElementById("app").innerHTML=e,s()}():(e='\n            <div class="container">\n                <header class="header">\n                    <h1>'+userProfileData.name+'</h1>\n                </header>\n \n                <div class="profile" id="profile">\n                    <div class="avatar">\n                        <a href="#chat-'+userProfileData.chatroom+'">\n                            <div class="avatar__image">\n                                <div class="avatar__status round-label">\n                                    <span>'+userProfileData.status+'</span>\n                                </div>\n                            \n                                <img src="'+userProfileData.avatar+'"/>\n                            </div>\n                        </a>\n                    </div>\n    \n                    <div class="user-description">\n                        <h3>'+userProfileData.name+", "+userProfileData.age+"</h3>\n                        <h4>"+userProfileData.location+"</h4>\n    \n                        <p>"+userProfileData.description+'</p>\n                    </div>\n    \n                    <button class="btn btn--fullwidth" id="addFriend">Add as a friend</button>\n                </div>\n            </div>\n        ',document.getElementById("app").innerHTML=e,favoriteUsers.isFriend(userProfileId)&&document.getElementById("profile").classList.add("profile--is-active"))};window.onhashchange=function(){e()},document.addEventListener("click",function(e){var a=document.getElementById("profile");e.target&&"addFriend"==e.target.id&&(favoriteUsers.isFriend(userProfileId)?(favoriteUsers.removeFriend(userProfileId),a.classList.remove("profile--is-active")):(favoriteUsers.addFriend(userProfileId),a.classList.add("profile--is-active")))}),document.addEventListener("keypress",function(e){var a="messageText";if(e.target&&e.target.id==a&&13==e.keyCode){var n=document.querySelector("#"+a);chat.sendMessage(getHash(),myProfileId,myProfileAvatar,n.value),n.value="",s()}}),e()}();